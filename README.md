# ğŸ“ˆ WeaveAI æ™ºèƒ½åˆ†æåŠ©æ‰‹

> å‘Šåˆ«æ„Ÿè§‰ï¼Œè®©æ•°æ®ä¸AIä¸ºæ‚¨å¼•èˆª

WeaveAI æ˜¯ä¸€ä¸ªå…¨æ ˆ AI é©±åŠ¨çš„ Web åº”ç”¨ï¼Œæ—¨åœ¨ä¸ºè·¨å¢ƒç”µå•†å–å®¶å’Œå“ç‰Œæ–¹æä¾›ä»å¸‚åœºæœºä¼šæ´å¯Ÿã€å†…éƒ¨æ•°æ®éªŒè¯åˆ°ç”Ÿæˆå¯æ‰§è¡Œè¡ŒåŠ¨è®¡åˆ’çš„ç«¯åˆ°ç«¯æˆ˜ç•¥æ”¯æŒã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

æœ¬é¡¹ç›®é€šè¿‡ä¸€ä¸ªå¼•å¯¼å¼çš„ä¸‰æ­¥å·¥ä½œæµï¼Œå°†å¤æ‚çš„æˆ˜ç•¥åˆ†ææµç¨‹åŒ–ã€è‡ªåŠ¨åŒ–ï¼š

1.  **ğŸ¤– ç¬¬ä¸€æ­¥ï¼šæœºä¼šæ´å¯Ÿ (Insight)**

      * ç”¨æˆ·æäº¤ä¸€ä¸ªâ€œæˆ˜ç•¥æ¡£æ¡ˆâ€ï¼ŒåŒ…æ‹¬ç›®æ ‡å¸‚åœºã€æ ¸å¿ƒå“ç±»ã€å–å®¶ç±»å‹å’Œå®šä»·åŒºé—´ã€‚
      * AI Agentï¼ˆåŸºäº Volcengine Arkï¼‰ä¼šæ¥æ”¶æ­¤æ¡£æ¡ˆï¼Œå¹¶æµå¼ï¼ˆStreamingï¼‰ç”Ÿæˆä¸€ä»½åŒ…å«å®è§‚ç¯å¢ƒã€ç»†åˆ†å“ç±»æœºä¼šç‚¹å’Œç«äº‰æ ¼å±€åˆ†æçš„æ·±åº¦å¸‚åœºæŠ¥å‘Šã€‚
      * å‰ç«¯ä½¿ç”¨ `react-markdown` å®æ—¶æ¸²æŸ“AIçš„â€œæ€è€ƒè¿‡ç¨‹â€å’Œâ€œæ­£å¼æŠ¥å‘Šâ€ã€‚

2.  **ğŸ“Š ç¬¬äºŒæ­¥ï¼šè‡ªæˆ‘éªŒè¯ (Validation)**

      * ç”¨æˆ·ä¸Šä¼ è‡ªå·±çš„å†å²é”€å”®æ•°æ®å’Œï¼ˆå¯é€‰çš„ï¼‰è¯„è®ºæ•°æ®ï¼ˆæ”¯æŒ `.csv` å’Œ `.parquet` æ ¼å¼ï¼‰ã€‚
      * åº”ç”¨æä¾›ä¸€ä¸ªäº¤äº’å¼ä»ªè¡¨ç›˜ï¼Œæ‰§è¡Œä¸‰ç§æ ¸å¿ƒçš„æ•°æ®åˆ†æï¼š
          * **é”€å”®é¢„æµ‹**ï¼šä½¿ç”¨ Keras/TensorFlow æ„å»ºçš„ **LSTM** æ¨¡å‹é¢„æµ‹æœªæ¥30å¤©çš„é”€å”®é¢ï¼Œå¹¶ä½¿ç”¨ `Plotly.js` è¿›è¡Œå¯è§†åŒ–ã€‚
          * **çƒ­é”€å“èšç±»**ï¼šä½¿ç”¨ **KMeans** ç®—æ³•å¯¹å•†å“è¿›è¡Œèšç±»ï¼Œè¯†åˆ«å‡ºâ€œçƒ­é”€å•†å“ç°‡â€å’Œâ€œæ½œåŠ›å•†å“ç°‡â€ã€‚
          * **æƒ…æ„Ÿåˆ†æ**ï¼šä½¿ç”¨ `vaderSentiment` åˆ†æè¯„è®ºï¼Œå¹¶å…è®¸ç”¨æˆ·é€šè¿‡æ»‘å—ç­›é€‰ç‰¹å®šæ˜Ÿçº§çš„è¯„è®ºã€‚
      * **åµŒå¥— AI åŠŸèƒ½**ï¼šç”¨æˆ·å¯ä»¥åŸºäºç­›é€‰åçš„è¯„è®ºï¼Œå†æ¬¡è°ƒç”¨ AI ç”Ÿæˆä¸€ä»½æ·±å…¥çš„â€œç”¨æˆ·æ´å¯Ÿåˆ†ææŠ¥å‘Šâ€ã€‚
      * å®Œæˆåï¼Œæ­¤æ­¥éª¤ä¼šç”Ÿæˆä¸€ä»½â€œå†…éƒ¨æ•°æ®éªŒè¯æ‘˜è¦â€ã€‚

3.  **ğŸš€ ç¬¬ä¸‰æ­¥ï¼šè¡ŒåŠ¨è®¡åˆ’ (Action)**

      * åº”ç”¨å°†\*\*ç¬¬ä¸€æ­¥çš„â€œå¸‚åœºæ´å¯ŸæŠ¥å‘Šâ€**å’Œ**ç¬¬äºŒæ­¥çš„â€œéªŒè¯æ‘˜è¦â€\*\*ä½œä¸ºä¸Šä¸‹æ–‡ï¼Œæäº¤ç»™ä¸“èŒâ€œè¡ŒåŠ¨è§„åˆ’â€çš„ AI Agentã€‚
      * AI Agent ä¼šç”Ÿæˆä¸€ä»½é«˜åº¦å…·ä½“ã€å¯è½åœ°çš„å­£åº¦è¡ŒåŠ¨è·¯çº¿å›¾ï¼Œæ¶µç›–äº§å“ç ”å‘ã€å¸‚åœºè¥é”€å’Œä¾›åº”é“¾è¿è¥ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

æœ¬é¡¹ç›®é‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„æ¶æ„ã€‚

### **Frontend** (Next.js)

  * **æ¡†æ¶**: Next.js 15.5.6, React 19.1.0 (App Router)
  * **çŠ¶æ€ç®¡ç†**: React Hooks (`useState`, `useMemo`, `useEffect`)
  * **UI / æ ·å¼**: TailwindCSS, `@tailwindcss/typography` (ç”¨äºæ¸²æŸ“ Markdown)
  * **æ•°æ®å¯è§†åŒ–**: `Plotly.js`, `react-plotly.js`
  * **UI ç»„ä»¶**: `rc-slider` (ç”¨äºä»·æ ¼/æ˜Ÿçº§ç­›é€‰)
  * **Markdown æ¸²æŸ“**: `react-markdown`, `remark-gfm`

### **Backend** (FastAPI)

  * [cite\_start]**æ¡†æ¶**: FastAPI [cite: 1][cite\_start], Uvicorn [cite: 1]
  * [cite\_start]**AI Agent**: `volcengine-python-sdk[ark]` (è°ƒç”¨ `doubao-seed` æ¨¡å‹) [cite: 1]
  * [cite\_start]**æœºå™¨å­¦ä¹  (é¢„æµ‹)**: TensorFlow / Keras (LSTM) [cite: 1]
  * [cite\_start]**æœºå™¨å­¦ä¹  (èšç±»)**: Scikit-learn (KMeans) [cite: 1]
  * [cite\_start]**æœºå™¨å­¦ä¹  (æƒ…æ„Ÿ)**: `vaderSentiment` [cite: 1]
  * [cite\_start]**æ•°æ®å¤„ç†**: Pandas [cite: 1][cite\_start], Numpy [cite: 1][cite\_start], Openpyxl [cite: 1][cite\_start], Pyarrow [cite: 1]
  * [cite\_start]**ç¯å¢ƒå˜é‡**: `python-dotenv` [cite: 1]

## ğŸ“ é¡¹ç›®ç»“æ„

```
WeaveAI_è¿­ä»£/
â”œâ”€â”€ backend/                 
â”‚   â”œâ”€â”€ .env                  # â—€ å­˜å‚¨ ARK_API_KEY
â”‚   â”œâ”€â”€ main.py               # â—€ FastAPI è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ WAIapp_core.py        # â—€ æ ¸å¿ƒ AI Agent å’Œæ•°æ®åˆ†æé€»è¾‘
[cite_start]â”‚   â””â”€â”€ requirements.txt      # â—€ Python ä¾èµ– [cite: 1]
â””â”€â”€ frontend/                
    â”œâ”€â”€ .env.local            # â—€ å­˜å‚¨ NEXT_PUBLIC_API_BASE_URL
    â”œâ”€â”€ app/
    â”‚   â”œâ”€â”€ components/       # â—€ React UI ç»„ä»¶
    â”‚   â”‚   â”œâ”€â”€ ProfileForm.js       
    â”‚   â”‚   â”œâ”€â”€ ReportDisplay.js     
    â”‚   â”‚   â”œâ”€â”€ ValidationDashboard.js 
    â”‚   â”‚   â”œâ”€â”€ ActionPlanner.js     
    â”‚   â”‚   â”œâ”€â”€ SentimentAnalysis.js 
    â”‚   â”‚   â”œâ”€â”€ StepsIndicator.js  
    â”‚   â”‚   â””â”€â”€ ...
    â”‚   â”œâ”€â”€ page.js           # â—€ æ ¸å¿ƒé¡µé¢å’ŒçŠ¶æ€ç®¡ç†"å¤§è„‘"
    â”‚   â”œâ”€â”€ layout.js         # â—€ æ ¹å¸ƒå±€å’Œå­—ä½“
    â”‚   â””â”€â”€ globals.css       # â—€ Tailwind CSS åŸºç¡€æ ·å¼
    â”œâ”€â”€ package.json          # â—€ Node.js ä¾èµ–
    â”œâ”€â”€ tailwind.config.mjs   # â—€ Tailwind é…ç½®
    â””â”€â”€ next.config.mjs       # â—€ Next.js é…ç½®
```

## ğŸš€ æœ¬åœ°å¼€å‘ä¸è¿è¡Œ

æ‚¨éœ€è¦åˆ†åˆ«å¯åŠ¨åç«¯æœåŠ¡å’Œå‰ç«¯åº”ç”¨ã€‚

### 1\. å¯åŠ¨ Backend (FastAPI)

```bash
# 1. è¿›å…¥åç«¯ç›®å½•
cd backend

# 2. (æ¨è) åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
python -m venv venv
# On macOS/Linux:
source venv/bin/activate
# On Windows:
.\venv\Scripts\activate

# 3. å®‰è£… Python ä¾èµ–
[cite_start]pip install -r requirements.txt [cite: 1]

# 4. åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
# åœ¨ backend ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª .env æ–‡ä»¶
# å¹¶æ·»åŠ æ‚¨çš„ Volcengine Ark API å¯†é’¥
echo "ARK_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxx" > .env

# 5. å¯åŠ¨ FastAPI æœåŠ¡
# (æœåŠ¡å°†è¿è¡Œåœ¨ http://127.0.0.1:8000)
uvicorn main:app --reload
```

### 2\. å¯åŠ¨ Frontend (Next.js)

```bash
# 1. (åœ¨æ–°çš„ç»ˆç«¯ä¸­) è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# 2. å®‰è£… Node.js ä¾èµ–
npm install

# 3. åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
# åœ¨ frontend ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª .env.local æ–‡ä»¶
# æŒ‡å‘æ‚¨æœ¬åœ°çš„ FastAPI æœåŠ¡åœ°å€
echo "NEXT_PUBLIC_API_BASE_URL=http://127.0.0.1:8000" > .env.local

# 4. å¯åŠ¨ Next.js å¼€å‘æœåŠ¡å™¨
npm run dev

# 5. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ http://localhost:3000
```

## ğŸ”‘ ç¯å¢ƒå˜é‡

### `backend/.env`

  * `ARK_API_KEY`: **[å¿…éœ€]** æ‚¨çš„ Volcengine Ark API å¯†é’¥ï¼Œç”¨äºé©±åŠ¨æ‰€æœ‰ AI Agent åŠŸèƒ½ã€‚

### `frontend/.env.local`

  * `NEXT_PUBLIC_API_BASE_URL`: **[å¿…éœ€]** æ‚¨çš„åç«¯ FastAPI æœåŠ¡åœ°å€ã€‚é»˜è®¤ä¸º `http://127.0.0.1:8000`ã€‚

## ğŸ“¡ API Endpoints

æ‰€æœ‰ API å‡ç”± `backend/main.py` æä¾›ã€‚

### AI æŠ¥å‘Š (æµå¼å“åº”)

  * `POST /api/v1/reports/market-insight`
      * **Body**: `UserProfile` JSON å¯¹è±¡ (å¸‚åœº, å“ç±», ä»·æ ¼ç­‰)ã€‚
      * **Response**: `StreamingResponse` (text/plain) - æµå¼è¿”å›å¸‚åœºæ´å¯Ÿ Markdown æŠ¥å‘Šã€‚
  * `POST /api/v1/reports/action-plan`
      * **Body**: `ActionPlanRequest` JSON å¯¹è±¡ (åŒ…å« `market_report` å’Œ `validation_summary`)ã€‚
      * **Response**: `StreamingResponse` (text/plain) - æµå¼è¿”å›è¡ŒåŠ¨è®¡åˆ’ Markdown æŠ¥å‘Šã€‚
  * `POST /api/v1/reports/review-summary`
      * **Body**: `ReviewAnalysisRequest` JSON å¯¹è±¡ (åŒ…å«æ­£/è´Ÿè¯„è®ºæ ·æœ¬)ã€‚
      * **Response**: `StreamingResponse` (text/plain) - æµå¼è¿”å›è¯„è®ºæ´å¯Ÿ Markdown æŠ¥å‘Šã€‚

### æ•°æ®åˆ†æ (JSON å“åº”)

  * `POST /api/v1/data/forecast-sales`
      * **Body**: `UploadFile` (é”€å”®æ•°æ® .csv/.parquet)ã€‚
      * **Response**: `JSONResponse` - åŒ…å« Plotly å›¾è¡¨ JSON æ•°æ®çš„ LSTM é¢„æµ‹ç»“æœã€‚
  * `POST /api/v1/data/product-clustering`
      * **Body**: `UploadFile` (é”€å”®æ•°æ® .csv/.parquet)ã€‚
      * **Response**: `JSONResponse` - åŒ…å«èšç±»æ‘˜è¦å’Œçƒ­é”€å“åˆ—è¡¨çš„ KMeans åˆ†æç»“æœã€‚
  * `POST /api/v1/data/sentiment-analysis`
      * **Body**: `UploadFile` (è¯„è®ºæ•°æ® .csv/.parquet)ã€‚
      * **Response**: `JSONResponse` - åŒ…å«æƒ…æ„Ÿåˆ†æç»“æœï¼ˆå¹³å‡åˆ†ã€è¯„è®ºåˆ—è¡¨ï¼‰ã€‚